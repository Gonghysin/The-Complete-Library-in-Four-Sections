<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>ä¹¦ç±æ–‡æ¡£</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="å¿ƒæµ·çš„ä¹¦ç±å¯¼èˆª - å„ç±»ä¼˜è´¨ä¹¦ç±çš„å­¦ä¹ ç¬”è®°ä¸èµ„æ–™">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css" />
  <style>
    /* å³ä¾§å¤§çº²æ ·å¼ */
    #toc {
      position: fixed;
      top: 60px;
      right: 20px;
      width: 280px;
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
      background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      font-size: 14px;
      transition: all 0.3s ease;
      z-index: 1000;
    }

    #toc:hover {
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
      transform: translateY(-2px);
    }

    /* å¤§çº²æ ‡é¢˜æ ·å¼ */
    #toc::before {
      content: "ğŸ“‘ æ–‡ç« å¤§çº²";
      display: block;
      font-weight: 600;
      font-size: 16px;
      color: #2c3e50;
      margin-bottom: 15px;
      padding-bottom: 8px;
      border-bottom: 2px solid #3498db;
      text-align: center;
    }

    /* å¤§çº²åˆ—è¡¨æ ·å¼ */
    #toc ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    #toc li {
      margin: 8px 0;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    #toc li:hover {
      background: rgba(52, 152, 219, 0.1);
      transform: translateX(5px);
    }

    /* é“¾æ¥æ ·å¼ */
    #toc a {
      display: block;
      padding: 8px 12px;
      color: #34495e;
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    #toc a::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      width: 3px;
      height: 100%;
      background: #3498db;
      transform: scaleY(0);
      transition: transform 0.2s ease;
    }

    #toc a:hover {
      color: #2980b9;
      background: rgba(52, 152, 219, 0.08);
      transform: translateX(3px);
    }

    #toc a:hover::before {
      transform: scaleY(1);
    }

    /* H1 å’Œ H2 æ ‡é¢˜çš„åŒºåˆ†æ ·å¼ */
    #toc li[style*="margin-left: 0"] > a {
      font-weight: 600;
      color: #2c3e50;
    }

    #toc li[style*="margin-left: 20px"] > a {
      font-weight: 400;
      color: #7f8c8d;
      font-size: 13px;
    }

    #toc li[style*="margin-left: 20px"] > a::before {
      background: #95a5a6;
    }

    /* ç¾åŒ–æ»šåŠ¨æ¡ */
    #toc::-webkit-scrollbar {
      width: 6px;
    }

    #toc::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.05);
      border-radius: 3px;
    }

    #toc::-webkit-scrollbar-thumb {
      background: linear-gradient(to bottom, #3498db, #2980b9);
      border-radius: 3px;
      transition: background 0.2s ease;
    }

    #toc::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(to bottom, #2980b9, #21618c);
    }

    /* è°ƒæ•´ä¸»å†…å®¹å®½åº¦ï¼Œé¿å…è¢«å³ä¾§tocé®æŒ¡ */
    #main {
      margin-right: 320px;
    }

    /* å“åº”å¼è®¾è®¡ï¼šåœ¨å°å±å¹•ä¸Šéšè—å³ä¾§TOC */
    @media (max-width: 1024px) {
      #toc {
        display: none;
      }
      /* ç§»é™¤ä¸»å†…å®¹çš„å³è¾¹è· */
      main, .markdown-section, #main {
        margin-right: 0 !important;
      }
    }

    /* å½“å¤§çº²ä¸ºç©ºæ—¶éšè— */
    #toc:empty {
      display: none;
    }

    /* é«˜äº®æ–‡æœ¬æ ·å¼ - æ”¯æŒ ==text== è¯­æ³• */
    mark {
      background: linear-gradient(120deg, #a8e6cf 0%, #ffd93d 100%);
      padding: 2px 4px;
      border-radius: 3px;
      color: #2c3e50;
      font-weight: 500;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      transition: all 0.2s ease;
    }

    mark:hover {
      background: linear-gradient(120deg, #88cc9f 0%, #ffcd3c 100%);
      transform: translateY(-1px);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <div id="toc"></div> <!-- å³ä¾§æ–‡ç« å¤§çº²å®¹å™¨ -->

  <script>
    window.$docsify = {
      name: 'å¿ƒæµ·çš„ä¹¦ç±å¯¼èˆª', // ä¿ç•™äº†æ—§çš„ name
      repo: 'https://github.com/Gonghysin/The-Complete-Library-in-Four-Sections', // ä¿ç•™äº†æ—§çš„ repo
      loadSidebar: true,
      subMaxLevel: 2, // æ–‡ç« å¤§çº²æ˜¾ç¤ºåˆ°äºŒçº§æ ‡é¢˜
      homepage: 'README.md',
      plugins: [
        // é«˜äº®è¯­æ³•æ’ä»¶ - æ”¯æŒ ==text== è¯­æ³•
        function(hook, vm) {
          hook.beforeEach(function(content) {
            // å°† ==text== è½¬æ¢ä¸º <mark>text</mark>
            return content.replace(/==([\s\S]*?)==/g, '<mark>$1</mark>');
          });
        },
        function(hook, vm) {
          hook.doneEach(function() {
            // ç”Ÿæˆæ–‡ç« ç›®å½•ï¼Œæ’å…¥åˆ°å³ä¾§tocå®¹å™¨
            const tocContainer = document.getElementById('toc');
            if (!tocContainer) return;

            // æ¸…ç©ºæ—§ç›®å½•
            tocContainer.innerHTML = '';

            // æŸ¥æ‰¾æ‰€æœ‰h1å’Œh2æ ‡é¢˜
            // æ³¨æ„ï¼šè¿™é‡Œé€‰æ‹©å™¨æ˜¯ '#main h1, #main h2'ã€‚Docsify å°† Markdown å†…å®¹æ¸²æŸ“åˆ° <main class="markdown-section"> å…ƒç´ ä¸­ã€‚
            // å¦‚æœè¦æ›´ç²¾ç¡®ï¼Œå¯ä»¥æ˜¯ '.markdown-section h1, .markdown-section h2'
            const headers = document.querySelectorAll('.markdown-section h1, .markdown-section h2');
            if (headers.length === 0) return;

            // åˆ›å»ºç›®å½•åˆ—è¡¨
            let ul = document.createElement('ul');
            headers.forEach(header => {
              let id = header.id; // Use Docsify's auto-generated ID if available
              if (!id) {
                // Fallback to generate an ID if Docsify didn't create one
                // This slugification should ideally match Docsify's own for consistency
                // Or ensure Docsify uses these generated IDs.
                id = header.textContent.trim().toLowerCase()
                  .replace(/[^\\w\\s-ä¸€-é¾¥]/g, '') // Keep CJK characters, remove most punctuation
                  .replace(/\\s+/g, '-');
                header.id = id; // Assign the generated ID to the header element
              }
              
              let li = document.createElement('li');
              li.style.marginLeft = header.tagName === 'H2' ? '20px' : '0';
              let a = document.createElement('a');
              a.textContent = header.textContent;
              
              // Construct the full hash path for the link, including the current page path from vm.route
              a.href = '#' + vm.route.path + '?id=' + id; 

              li.appendChild(a);
              ul.appendChild(li);
            });
            tocContainer.appendChild(ul);
          });
        }
      ]
    }
  </script>

  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
</body>
</html>
